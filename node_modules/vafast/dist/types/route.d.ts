import { ResponseBody, Route } from './types.js';

interface Middleware {
    (req: Request, next: () => Promise<Response>): Promise<Response>;
}
interface BaseRouteConfig {
    method: "GET" | "POST" | "PUT" | "DELETE" | "PATCH" | "OPTIONS" | "HEAD";
    path: string;
    handler: (req: Request) => ResponseBody | Promise<ResponseBody>;
}
interface ExtendedRouteConfig extends BaseRouteConfig {
    middleware?: Middleware[];
    body?: any;
    query?: any;
    params?: any;
    headers?: any;
    cookies?: any;
    docs?: {
        description?: string;
        tags?: string[];
        security?: any[];
        responses?: Record<string, any>;
    };
    timeout?: number;
    maxBodySize?: string;
    [key: string]: any;
}
interface NestedRouteConfig {
    path: string;
    middleware?: Middleware[];
    children?: (NestedRouteConfig | ExtendedRouteConfig)[];
}
type TypedRoute = ExtendedRouteConfig;
type CompatibleRoute = Route | TypedRoute;
interface FlattenedRoute extends ExtendedRouteConfig {
    fullPath: string;
    middlewareChain: Middleware[];
}
declare function createTypedRoute(config: ExtendedRouteConfig): ExtendedRouteConfig;
declare function isTypedRoute(route: any): route is TypedRoute;

export { type BaseRouteConfig, type CompatibleRoute, type ExtendedRouteConfig, type FlattenedRoute, type Middleware, type NestedRouteConfig, type TypedRoute, createTypedRoute, isTypedRoute };
