import { Middleware } from '../types/types.js';

/**
 * 服务器基类
 * 包含所有服务器类型的公共逻辑
 */
declare abstract class BaseServer {
    protected globalMiddleware: Middleware[];
    use(mw: Middleware): void;
    /**
     * 打印扁平化后的路由信息，用于调试
     */
    protected logFlattenedRoutes(routes: any[], type?: string): void;
    /**
     * 检测路由冲突
     * 检查是否有路径相同但方法不同的路由，以及潜在的路径冲突
     */
    protected detectRouteConflicts(routes: any[]): void;
    /**
     * 检测动态路由的潜在冲突
     */
    private detectDynamicRouteConflicts;
    /**
     * 判断两个路径是否可能冲突
     */
    private pathsMayConflict;
    /**
     * 路径匹配
     */
    protected matchPath(pattern: string, path: string): boolean;
    /**
     * 提取路径参数
     */
    protected extractParams(pattern: string, path: string): Record<string, string>;
}

export { BaseServer };
