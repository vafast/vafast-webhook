{"version":3,"sources":["../../src/utils/go-await.ts"],"sourcesContent":["/**\n * Go 风格的错误处理工具\n * 将 Promise 转换为 [Error | null, T | undefined] 格式\n *\n * @author Framework Team\n * @version 1.0.0\n * @license MIT\n */\n\n/**\n * Go 风格的错误处理工具\n * 将 Promise 转换为 [Error | null, T | undefined] 格式\n *\n * @param promise 要处理的 Promise\n * @returns [Error | null, T | undefined] 元组，第一个元素是错误，第二个是结果\n *\n * @example\n * ```typescript\n * const [error, result] = await goAwait(someAsyncFunction());\n * if (error) {\n *   console.error(\"操作失败:\", error);\n * } else {\n *   console.log(\"操作成功:\", result);\n * }\n * ```\n */\nexport function goAwait<T>(\n  promise: Promise<T>,\n): Promise<[Error | null, T | undefined]> {\n  return promise\n    .then<[null, T]>((data) => [null, data])\n    .catch<\n      [Error, undefined]\n    >((err) => [err instanceof Error ? err : new Error(String(err)), undefined]);\n}\n"],"mappings":";AA0BO,SAAS,QACd,SACwC;AACxC,SAAO,QACJ,KAAgB,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,EACtC,MAEC,CAAC,QAAQ,CAAC,eAAe,QAAQ,MAAM,IAAI,MAAM,OAAO,GAAG,CAAC,GAAG,MAAS,CAAC;AAC/E;","names":[]}